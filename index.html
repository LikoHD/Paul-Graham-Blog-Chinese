<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paul Graham Blog 保罗·格雷厄姆 </title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.5;
            color: hsl(0 0% 3.9%);
            background-color: hsl(0 0% 100%);
            margin: 0;
            padding: 16px;
            font-size: 14px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        header {
            padding: 24px 0;
            border-bottom: 1px solid hsl(0 0% 89.8%);
            margin-bottom: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
        }
        
        .header-content {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        h1 {
            font-size: 24px;
            font-weight: 600;
            color: hsl(0 0% 3.9%);
            margin: 0;
            line-height: 1.2;
        }
        
        .subtitle {
            color: hsl(0 0% 45.1%);
            font-size: 14px;
            margin: 0;
        }
        
        .search-box {
            margin: 0;
            flex-shrink: 0;
        }
        
        .search-input {
            width: 100%;
            max-width: 320px;
            padding: 8px 12px;
            border: 1px solid hsl(0 0% 89.8%);
            border-radius: 6px;
            font-size: 14px;
            background-color: hsl(0 0% 100%);
            transition: border-color 0.2s ease;
        }
        
        .search-input:focus {
            outline: none;
            border-color: hsl(0 0% 3.9%);
            background-color: hsl(0 0% 100%);
        }
        
        .search-input::placeholder {
            color: hsl(0 0% 63.9%);
        }
        
        .articles-list {
            /* 无需特殊样式 */
        }
        
        .article-item {
            padding: 12px 0;
            border-bottom: 1px solid hsl(0 0% 95.1%);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        
        .article-item:last-child {
            border-bottom: none;
        }
        
        .article-item:hover {
            background-color: hsl(0 0% 98%);
            margin: 0 -8px;
            padding: 12px 8px;
            border-radius: 4px;
        }
        
        .article-number {
            color: hsl(0 0% 63.9%);
            font-size: 13px;
            font-weight: 500;
            min-width: 28px;
            flex-shrink: 0;
            font-variant-numeric: tabular-nums;
        }
        
        .article-content {
            flex: 1;
            min-width: 0;
        }
        
        .article-link {
            text-decoration: none;
            color: inherit;
            display: block;
        }
        
        .article-titles {
            margin-bottom: 2px;
        }
        
        .article-title-en {
            font-size: 15px;
            color: hsl(0 0% 3.9%);
            font-weight: 500;
            margin-bottom: 2px;
            line-height: 1.3;
        }
        
        .article-title-zh {
            font-size: 14px;
            color: hsl(0 0% 45.1%);
            line-height: 1.3;
        }
        
        .article-meta {
            color: hsl(0 0% 63.9%);
            font-size: 12px;
            margin-top: 2px;
        }
        
        .article-item:hover .article-title-en {
            color: hsl(0 0% 9%);
        }
        
        .stats {
            text-align: center;
            padding: 16px 0;
            color: hsl(0 0% 63.9%);
            font-size: 13px;
            border-top: 1px solid hsl(0 0% 95.1%);
            margin-top: 24px;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 12px;
                font-size: 13px;
            }
            
            header {
                padding: 16px 0;
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
            
            h1 {
                font-size: 20px;
            }
            
            .subtitle {
                font-size: 13px;
            }
            
            .search-input {
                max-width: 100%;
            }
            
            .article-number {
                min-width: 24px;
                font-size: 12px;
            }
            
            .article-title-en {
                font-size: 14px;
            }
            
            .article-title-zh {
                font-size: 13px;
            }
            
            .article-item {
                padding: 10px 0;
                gap: 10px;
            }
            
            .article-item:hover {
                margin: 0 -6px;
                padding: 10px 6px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Paul Graham Blog</h1>
                <div class="subtitle">保罗·格雷厄姆博客</div>
            </div>
            <div class="search-box">
                <input type="text" class="search-input" placeholder="搜索文章标题..." id="searchInput">
            </div>
        </header>
        
        <div class="articles-list" id="articlesList">
            <!-- 文章列表将通过JavaScript动态加载 -->
        </div>
        
        <div class="stats" id="stats">
            正在加载文章...
        </div>
    </div>
    
    <script>
        let allArticles = [];
        
        // 加载文章列表
        async function loadArticles() {
            try {
                const response = await fetch('data/articles.json');
                allArticles = await response.json();
                displayArticles(allArticles);
                updateStats(allArticles.length, allArticles.length);
            } catch (error) {
                console.error('加载文章失败:', error);
                document.getElementById('stats').textContent = '加载失败，请刷新页面重试';
            }
        }
        
        // 显示文章列表
        function displayArticles(articles) {
            const container = document.getElementById('articlesList');
            container.innerHTML = '';
            
            articles.forEach((article, index) => {
                const articleDiv = document.createElement('div');
                articleDiv.className = 'article-item';
                
                articleDiv.innerHTML = `
                    <div class="article-number">${article.id}.</div>
                    <div class="article-content">
                        <a href="article.html?id=${encodeURIComponent(article.filename)}" class="article-link">
                            <div class="article-titles">
                                <div class="article-title-en">${escapeHtml(article.title)}      ${escapeHtml(article.title_zh)}</div>
                            </div>
                            <div class="article-meta">${article.date}</div>
                        </a>
                    </div>
                `;
                
                container.appendChild(articleDiv);
            });
        }
        
        // 搜索功能
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase().trim();
                
                if (!query) {
                    displayArticles(allArticles);
                    updateStats(allArticles.length, allArticles.length);
                    return;
                }
                
                const filtered = allArticles.filter(article =>
                    article.title.toLowerCase().includes(query)
                );
                
                displayArticles(filtered);
                updateStats(filtered.length, allArticles.length);
            });
        }
        
        // 更新统计信息
        function updateStats(showing, total) {
            const statsEl = document.getElementById('stats');
            if (showing === total) {
                statsEl.textContent = `共 ${total} 篇文章`;
            } else {
                statsEl.textContent = `显示 ${showing} / ${total} 篇文章`;
            }
        }
        
        // HTML转义
        function escapeHtml(text) {
            const map = {
                '&': '&amp;',
                '<': '&lt;',
                '>': '&gt;',
                '"': '&quot;',
                "'": '&#039;'
            };
            return text.replace(/[&<>"']/g, function(m) { return map[m]; });
        }
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            loadArticles();
            setupSearch();
        });
    </script>
</body>
</html>